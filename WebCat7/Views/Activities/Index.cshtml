@using Syncfusion.EJ2.Grids;
@using Syncfusion.Data;

@using SchMod.Models.Active;
@model IEnumerable<SchMod.Models.Active.Activity>

@{
    ViewData["Title"] = "Index";
}
<script src="~/js/jquery-3.1.1.min.js"></script>
<script src="~/js/Activity.js"></script>

<h2>Index</h2>

<p>
    <a asp-action="Create">Create New Activity</a>
</p>
<div class="row">
    <div class="form-group col-md-3">
        <label class="e-name">
            Select Activity Group
        </label>
    </div>
    <div class="form-group col-md-4">
        <ejs-dropdownlist id="selectActGrp" width="150px" height="30px" select="changeActGrp" datasource="(IEnumerable<string>)ViewBag.dropdownActGrp">
        </ejs-dropdownlist>
    </div>
</div>
<div>
    <ejs-grid id="ActGrid" cellSelecting="true" allowPaging="true" allowSorting="true" allowFiltering="true" toolbar="@(new List<string>() {"Edit","Update","Cancel","Search" })" enableAltRow="true">
        <e-grid-editSettings allowAdding="true" allowDeleting="true" allowEditing="true" mode="Normal" allowEditOnDblClick="true"></e-grid-editSettings>

        <e-grid-columns>
            <e-grid-column field="ActivityId" headerText="ID" isPrimaryKey="true" textAlign="Right" width="100"></e-grid-column>
            <e-grid-column field="ActivityName" headerText="Activity Name" type="string" width="120"></e-grid-column>
            <e-grid-column field="ActivityGroup" headerText="Group"  visible="false" width="150" editType="dropdownedit" edit="@(new {@params = new{dataSource = ViewBag.ActGrp, fields= new {text= "text", value= "value"}}})"></e-grid-column>
            <e-grid-column field="ActGroupId" headerText="actGroupId" visible="false" width="150"></e-grid-column>
            <e-grid-column field="ActivityRemarks" headerText="Remarks" type="string" width="120"></e-grid-column>
            <e-grid-column field="ActivityDate" headerText="Date" editType="datepickeredit" format="yMd" width="120"></e-grid-column>
            <e-grid-column field="ActivityValue" headerText="Value" visible="false" width="150"></e-grid-column>
            <e-grid-column field="SendSms" headerText="Send SMS" editType="booleanedit" displayAsCheckBox="true" type="boolean" textAlign="Center" width="120"></e-grid-column>
            <e-grid-column field="SendEmail" headerText="Send E-Mail" editType="booleanedit" displayAsCheckBox="true" textAlign="Center" type="boolean"  width="120"></e-grid-column>
        </e-grid-columns>
    </ejs-grid>
</div>
